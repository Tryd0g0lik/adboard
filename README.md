[ENG README](./README_ENG.md)

# !
1. Файлы JS "`127.0.0.1:8000`" сделать замену на рабочий хост и порт 
2. В корне создать директорию "`frontend`" и [клонировать](https://github.com/Tryd0g0lik/adboard_frotend). "`frontend`" есть родительская директория для файлов.  

You can, now:
[Server](http://83.166.245.209/users/register/)\
1. Регистрируетесь ( "`a-zA-Z%0-9{_%`" доступные символы).
2. Авторизация.
3. Переходите в объявление и создаете одно объявление.
4. Строкой ниже можно видеть ваше объявление

Или воспользоваться\
Логин Sergey\
Пароль 123456789

# Доска объявлений
Работа - по мере поступления задачи.\
[Frontend](https://github.com/Tryd0g0lik/adboard_frotend)\

Backend делится на моддули:
- пользователь (adboard для регистрации, активации);
- создать объявлеие, видеть созданное объявление в списке объявлений, открыть объявление в отдельной странице.

### Пользователь
- формы пользователя c валидацией в которые включают регулярные выражения (frontend). 

#### Login форма

Отправляем на сервер\ 
```js
{
    "username": "Victorovich",
    "password": "ds2Rssa8%sa",   
}

```
Пароль пользователя - хешируем.

### Главная
![Main](./img/main.png)

### Регистрация

![Registration](./img/register.png)\

На сервере проверяется пароль, в состоянии хеша.\
В ответе получаем 201 или 401 код.

### Авторизация

Если в форму вносим не валидные  данные, получаем ошибку\
![Registration](./img/login.png)\

Если форма имеет валидные данные, сервер возвращает JWT-токены. Эти токены в виде бинарного кода типа JSON-строки.
```js
{
    "access_token": "token",
    "refresh_token": "token
}
```
Токены сохраняются в COOKIE, без права вызова через JS.

### После авторизации
Пользователь происходит рендерится на главную страницу.\
Меню получает дополнительные кнопки и форма поиска.\
Note: Поиск не рабочий. 

![efter authentification](./img/logging_user.png)

Путешествие по сервису сопровождается токенами из COOKIE.

### Объявления

![ads all](./img/ads.png)

Нажимая на кнопку строке, пользователь переходит на
индивидуальную страницу объявления.\
![ad one](./img/ad.png)

Note: Чат не рабочий

## DB
![db graph](./img/db_ads.png)



## TEST PLAYWRIGHT
Ворма регистрации пользователя
- "`username`" - удалить пробелы в начале и в конце строк.
- [Страницa login](http://127.0.0.1:8000/users/login/) - 'invalid value' не светиться если поля пароля оставить пустым и нажать Enter,
- сервер. В cookie on response dcnfdbnm токены. или оставить header!  Усли оставляем в header, то изменить "`TokenResponse.token_refresh`"
- в список всех объявлений одного пользователя, в общий список объявлений попадают объявления  всех пользователей.
- тест поля TITLE. Ошибки у пользователя 'ads_two' - пропускает более 100 символов.
- сделать подсказку к полям пароля из формы регистрации ("`a-zA-Z%0-9{_%`") 

