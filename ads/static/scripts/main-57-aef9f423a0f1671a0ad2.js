"use strict";(self.webpackChunkads=self.webpackChunkads||[]).push([[57],{182:()=>{async function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!t)return!0;const e=document.querySelector("#ads-collections ul.ads-views");return e?function(t,e){const o=document.createElement("li");o.className="ad-view",o.dataset.ad="".concat(e.id);const n=document.createElement("div");n.className="ad-view-content";const a=document.createElement("div");a.className="ad-view-title";const c=document.createElement("h2");c.textContent=e.title,a.append(c);const r=document.createElement("div");r.className="ad-view-context",r.textContent=e.description;const s=document.createElement("div");s.className="ad-view-footer";const l=document.createElement("button");l.type="submit",l.className="ad-moving btn btn-primary",l.textContent="Перейти",s.append(l),n.append(a),n.append(r),n.append(s),o.append(n),t.append(o)}(e,t):console.log("INVALID 'ads-collections'"),!0}function e(){const e=document.querySelector(".form form"),o=document.querySelector(".form form.ads-form__full-image-file");if(!e)return console.log("Somewing that frong! Invalid form."),!1;e.onclick=async e=>{const o=await(async t=>{if(t.stopPropagation(),t.target&&"button"!==t.target.tagName.toLowerCase())return!1;console.log("START FORM's HANDLER OF AD"),t.preventDefault();const e=t.currentTarget;if(e&&"form"!==e.tagName.toLowerCase())return!1;const o=new FormData(e);try{console.log(" REQUEST TO SERVER AND SEND AD's DATA OF FORM;");const t=await fetch("".concat("http://83.166.245.197","/api/v1/ads/"),{method:"POST",body:o});if(!t.ok)return console.log("RESPONSE OF AD NOT Ok"),!1;const e=await t.json();return console.log("RESPONCE OF AD IS OK: ".concat(e)),e}catch(t){return console.log("AD REQUEST ERROR => ".concat(t)),!1}})(e);if("boolean"===(typeof o).toLowerCase())return!1;return t(o.data),!0};if(!o)return console.log("Somewing that frong! Invalid form."),!1;o.onclick=async t=>!!await(async t=>{if(t.stopPropagation(),t.target&&"button"!==t.target.tagName.toLowerCase())return!1;t.preventDefault();const e=t.currentTarget;if(e&&"form"!==e.tagName.toLowerCase())return!1;const o=new FormData(e);try{const t=await fetch("".concat("http://83.166.245.197","/api/v1/image/"),{method:"POST",body:o});if(!t.ok)return!1;const e=await t.json();return console.log("SERVER: ".concat(e)),e}catch(t){return console.log("Request of FIleImage to server Error => ".concat(t)),!1}})(t)||(console.log("RESPONSE OF SEND IMAGE IS NOT OK"),!1);return!0}document.removeEventListener("DOMContentLoaded",(()=>{e()})),document.addEventListener("DOMContentLoaded",(()=>{e()}))}},t=>{t.O(0,[804],(()=>{return e=182,t(t.s=e);var e}));t.O()}]);